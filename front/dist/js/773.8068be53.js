"use strict";(self["webpackChunkCriarCertoManager"]=self["webpackChunkCriarCertoManager"]||[]).push([[773],{5125:function(t,e,s){s(6699);var a=s(7678),r=s(2500),i=s(4712);e["Z"]=(0,a.Z)(r.Z,(0,i.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),s={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",(a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(s.valid=e(t)))})):s.valid=e(t),s},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const s=this.watchers.find((t=>t._uid===e._uid));s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},3687:function(t,e,s){s(9027);var a=s(5352);e["Z"]=(0,a.Ji)("spacer","div","v-spacer")},1625:function(t,e,s){s.d(e,{Z:function(){return u}});var a=s(6750),r=s(9422),i=r.Z,o=s(6669),n=s(7678),l=s(1767),c=s(4101),d=s(5352);const h="undefined"!==typeof window&&"IntersectionObserver"in window;var u=(0,n.Z)(i,o.Z).extend({name:"v-img",directives:{intersect:a.Z},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return this.src&&"object"===typeof this.src?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];const t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push(`linear-gradient(${this.gradient})`),e&&t.push(`url("${e}")`);const s=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[s]):s}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(t,e,s){if(!h||s||this.eager){if(this.normalisedSrc.lazySrc){const t=new Image;t.src=this.normalisedSrc.lazySrc,this.pollForSize(t,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError(){this.hasError=!0,this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const t=new Image;this.image=t,t.onload=()=>{t.decode?t.decode().catch((t=>{(0,c.Kd)(`Failed to decode image, trying to render anyway\n\nsrc: ${this.normalisedSrc.src}`+(t.message?`\nOriginal error: ${t.message}`:""),this)})).then(this.onLoad):this.onLoad()},t.onerror=this.onError,this.hasError=!1,this.sizes&&(t.sizes=this.sizes),this.normalisedSrc.srcset&&(t.srcset=this.normalisedSrc.srcset),t.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(t),this.getSrc()},pollForSize(t,e=100){const s=()=>{const{naturalHeight:a,naturalWidth:r}=t;a||r?(this.naturalWidth=r,this.calculatedAspectRatio=r/a):t.complete||!this.isLoading||this.hasError||null==e||setTimeout(s,e)};s()},genContent(){const t=i.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:`${this.naturalWidth}px`}}),t},__genPlaceholder(){const t=(0,d.z9)(this,"placeholder");if(t){const e=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},t)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},e):e[0]}}},render(t){const e=i.options.render.call(this,t),s=(0,l.ZP)(e.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:h?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,s,e.children)}})},9422:function(t,e,s){s.d(e,{Z:function(){return o}});var a=s(8846),r=s(7678),i=s(5352),o=(0,r.Z)(a.Z).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio(){return Number(this.aspectRatio)},aspectStyle(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},(0,i.z9)(this))}},render(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}})},6313:function(t,e,s){s.d(e,{Z:function(){return n}});var a=s(7423),r=s(1625),i=s(5352),o=s(4101),n=a.Z.extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:()=>({isExtended:!1}),computed:{computedHeight(){const t=this.computedContentHeight;if(!this.isExtended)return t;const e=parseInt(this.extensionHeight);return this.isCollapsed?t:t+(isNaN(e)?0:e)},computedContentHeight(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes(){return{...a.Z.options.computed.classes.call(this),"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent}},isCollapsed(){return this.collapse},isProminent(){return this.prominent},styles(){return{...this.measurableStyles,height:(0,i.kb)(this.computedHeight)}}},created(){const t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,o.fK)(t,e,this)}))},methods:{genBackground(){const t={height:(0,i.kb)(this.computedHeight),src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img({props:t}):this.$createElement(r.Z,{props:t});return this.$createElement("div",{staticClass:"v-toolbar__image"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:(0,i.kb)(this.computedContentHeight)}},(0,i.z9)(this))},genExtension(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:(0,i.kb)(this.extensionHeight)}},(0,i.z9)(this,"extension"))}},render(t){this.isExtended=this.extended||!!this.$scopedSlots.extension;const e=[this.genContent()],s=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&e.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&e.unshift(this.genBackground()),t(this.tag,s,e)}})},7953:function(t,e,s){s.d(e,{qW:function(){return i}});var a=s(6313),r=s(5352);const i=(0,r.Ji)("v-toolbar__title"),o=(0,r.Ji)("v-toolbar__items");a.Z},8494:function(t,e,s){s.d(e,{Z:function(){return b}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-responsive",{staticClass:"mx-auto"},[s("v-card",{staticClass:"pb-4",attrs:{color:"teal",dark:""}},[s("v-row",[s("v-col",{staticClass:"mx-0",attrs:{cols:"12"}},[s("v-card-title",{staticClass:"ml-4 text-h5 font-weight-black"},[t._v(" "+t._s(t.title)+" ")]),s("v-card-subtitle",{staticClass:"mx-4 pb-0"},[t._v(" "+t._s(t.subtitle)+" ")])],1),s("v-col",{staticClass:"pa-0 justify-star text-left",attrs:{cols:"6"}},[s("v-btn",{staticClass:"mx-4 pa-0",attrs:{text:""},on:{click:t.voltar}},[s("v-icon",[t._v(" mdi-arrow-left-drop-circle-outline ")])],1)],1),s("v-col",{staticClass:"pa-0 justify-end text-right",attrs:{cols:"6"}},[s("v-btn",{staticClass:"pa-0 mx-4",attrs:{text:""},on:{click:t.help}},[s("v-icon",[t._v(" mdi-help ")])],1)],1)],1)],1)],1)},r=[],i={name:"TitleToolbarListTeal",props:{title:{type:String,default(){return""}},subtitle:{type:String,default(){return""}}},data:()=>({search:null}),computed:{},methods:{voltar(){return window.history.back()},help(){switch(this.$route.name){case"Gerenciar Parâmetros":this.$router.push("ajuda/parametros");break;case"Gerenciar Usuarios":this.$router.push("ajuda/usuarios");break;default:break}console.log(this.$route.name)}}},o=i,n=s(3736),l=s(3453),c=s.n(l),d=s(4562),h=s(4145),u=s(4886),m=s(266),p=s(4324),v=s(9422),g=s(1713),f=(0,n.Z)(o,a,r,!1,null,null,null),b=f.exports;c()(f,{VBtn:d.Z,VCard:h.Z,VCardSubtitle:u.Qq,VCardTitle:u.EB,VCol:m.Z,VIcon:p.Z,VResponsive:v.Z,VRow:g.Z})},773:function(t,e,s){s.r(e),s.d(e,{default:function(){return j}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"auto-height":""}},[s("v-row",{attrs:{justify:"center"}},[s("v-col",{staticClass:"px-1 py-0",attrs:{cols:"12",lg:"12","justify-center":"",flex:""}},[s("titleToolbarListTeal",{attrs:{title:t.title,subtitle:t.subtitle}}),s("v-card",{staticClass:"mx-auto"},[s("v-col",[s("RacasTouro")],1),s("v-col")],1)],1)],1)],1)},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",{staticClass:"my-2",attrs:{elevation:"1"}},[s("v-toolbar",{attrs:{elevation:"0",color:"blue grey lighten-3",light:"",dense:""}},[s("v-toolbar-title",[t._v(" Raças de Touros ")]),s("v-spacer"),s("v-btn",{staticClass:"mx-1",attrs:{fab:"",small:"",color:"primary",title:"Adicionar Raça de Touro"},on:{click:t.inserirTouro}},[s("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)],1),s("v-col",{staticClass:"pa-0",attrs:{cols:"12",lg:"12","justify-center":"",flex:""}},[s("v-form",{ref:"form",staticClass:"pa-0 white",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t.openInput?s("div",[s("v-card",{staticClass:"px-4",attrs:{outlined:"",text:"",color:"grey lighten-3",radio:""}},[s("v-card-title",[t._v(t._s(t.label)+" de Touro")]),s("v-card-text",[s("v-text-field",{ref:"form.touro",staticClass:"mt-4 pa-2 teal--text",attrs:{outlined:"",rules:t.descricaoRules,placeholder:"Inserir raça do touro",required:""},model:{value:t.form.descricao,callback:function(e){t.$set(t.form,"descricao","string"===typeof e?e.trim():e)},expression:"form.descricao"}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error",dark:"",title:"Cabcelar update"},on:{click:function(e){return t.reset()}}},[t._v(" Cancelar ")]),s("v-btn",{attrs:{color:"primary",dark:"",disabled:!t.valid,title:"Salvar Raça de Touro"},on:{click:t.salvarRaca}},[t._v(" Salvar ")])],1)],1)],1):t._e()]),s("v-card",[s("v-card-title",[s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-data-table",{attrs:{headers:t.headers,items:t.desserts,search:t.search,"mobile-breakpoint":"600","no-data-text":"Nenhuma Raça de Touro Encontrada","no-results-text":"Nada encontrado"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var a=e.item;return[s("v-btn",{staticClass:"mx-1",attrs:{fab:"",small:"",color:"primary",title:"Editar Raça de Touro"},on:{click:function(e){return t.editTouro(a)}}},[s("v-icon",{attrs:{dark:""}},[t._v(" mdi-pencil ")])],1),s("v-btn",{staticClass:"mx-1",attrs:{fab:"",small:"",color:"error",title:"Remover Raça de Touro"},on:{click:function(e){return t.deleteTouro(a)}}},[s("v-icon",{attrs:{dark:""}},[t._v(" mdi-delete ")])],1)]}}])})],1)],1)],1),s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{"max-width":"350"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-text",{staticClass:"text-body-1 py-2"},[t._v(" Tem certeza que deseja deletar a Raça de Touro? ")]),s("v-card-title",{staticClass:"text-h5"},[t._v(" "+t._s(this.deletarDescricao)+" ")]),s("v-divider"),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")]),s("v-btn",{attrs:{color:"error",dark:""},on:{click:t.deleteConfirm}},[t._v(" Deletar ")])],1)],1)],1)],1)],1)},o=[],n=s(3391),l=s(6846);const c="http://localhost:3017/manager";var d={async getRacasTourosApi(){try{const t=await(0,l.Z)().get(c.concat("/racastouro/find"));return t}catch(t){return console.log(t),t.response?t.response:(t.request,t)}},async updateRacasTourosApi(t){try{const e=await(0,l.Z)().put(c.concat("/racastouro/update"),t).then((t=>t)).catch((t=>t.response.data));return e}catch(e){return console.log(e),e.response?e.response:(e.request,e)}},async saveRacasTourosApi(t){try{const e=await(0,l.Z)().post(c.concat("/racastouro/save"),t).then((t=>t)).catch((t=>t.response.data));return e}catch(e){return console.log(e),e.response?e.response:(e.request,e)}},async deleteRacasTourosApi(t){try{console.log(t);let e=t.value;const s=await(0,l.Z)().delete(c.concat("/racastouro/delete/").concat(e)).then((t=>t)).catch((t=>t.response.data));return s}catch(e){return console.log(e),e.response?e.response:(e.request,e)}}},h={mixins:[n.Z],name:"ComponentRacasTouro",data:()=>({valid:!0,racasTouro:[],viewList:!0,openInput:!1,dialog:!1,deletarDescricao:"",search:"",headers:[{text:"Descrição",align:"start",filterable:!0,value:"text",class:"text-button"},{text:"",value:"actions",sortable:!1,align:"end"}],desserts:[],form:{_id:"",active:!0,descricao:""},label:"",salvar:!1,editar:!1,errorMessages:"",formHasErrors:!1,descricaoRules:[t=>!!t||"Campo Obrigatório!"]}),mounted(){this.getRacasTouro()},computed:{racasStores(){return this.$store.getters.getRacasTouro}},methods:{async salvarRaca(){let t=this.form.descricao;if(t=t.toLowerCase(),this.form.descricao=t[0].toUpperCase()+t.substr(1),this.$refs.form.validate()){if(this.salvar){const t=await d.saveRacasTourosApi(this.form);return this.afterSave(t)}{const t=await d.updateRacasTourosApi(this.form);return console.log(t),this.afterSave(t)}}},afterSave(t){return 200==t.status||201==t.status?(this.$store.commit("SET_DATA_RACAS_TOURO",t),this.limpar(),this.desserts=[],this.getRacasTouro(),n.Z.methods.messageSwalToast("success",t.data.message?t.data.message:t.message)):n.Z.methods.messageSwalToast("error",t.message)},async getRacasTouro(){try{const t=await d.getRacasTourosApi();if(200==t.status){let e=t.data;e=n.Z.methods.orderBy(e);const s=e.map((t=>({value:t._id,text:t.descricao})));return this.$store.commit("SET_DATA_RACAS_TOURO",s),this.desserts=[],this.desserts=s,!0}return n.Z.methods.messageSwalToast("error",t.data.message)}catch(t){return console.log(t),n.Z.methods.messageSwalToast("error",t.data.message)}},updateSuccess(){this.openInput=!1,this.editar=!1,this.getRacasTouro(),this.reset()},async deleteConfirm(){try{const t=await d.deleteRacasTourosApi(this.form._id);return 200==t.status?(this.getRacasTouro(),n.Z.methods.messageSwalToast("success",t.data.message),this.dialog=!1,this.limpar(),this.desserts=[],this.getRacasTouro(),!0):n.Z.methods.messageSwalToast("error",t.message)}catch(t){return n.Z.methods.messageSwalToast("error",t.data.message)}},limpar(){this.reset()},reset(){this.form.descricao="",this.openInput=!1,this.salvar=!1,this.editar=!1,this.viewList=!0,this.label=""},inserirTouro(){this.label="Inserir Nova Raça",this.openInput=!this.openInput,this.salvar=!0,this.viewList=!1},editTouro(t){this.label="Editar Raça",this.openInput=!this.openInput,this.editar=!0,this.viewList=!1,this.form={_id:t.value,descricao:t.text,active:!0}},deleteTouro(t){this.dialog=!this.dialog,this.deletarDescricao=this.form.text,this.form._id=t}}},u=h,m=s(3736),p=s(3453),v=s.n(p),g=s(4562),f=s(4145),b=s(4886),_=s(266),S=s(5151),y=s(4061),C=s(9223),x=s(5125),T=s(4324),w=s(1713),Z=s(3687),R=s(7808),$=s(6313),k=s(7953),E=(0,m.Z)(u,i,o,!1,null,null,null),V=E.exports;v()(E,{VBtn:g.Z,VCard:f.Z,VCardActions:b.h7,VCardText:b.ZB,VCardTitle:b.EB,VCol:_.Z,VDataTable:S.Z,VDialog:y.Z,VDivider:C.Z,VForm:x.Z,VIcon:T.Z,VRow:w.Z,VSpacer:Z.Z,VTextField:R.Z,VToolbar:$.Z,VToolbarTitle:k.qW});var B=s(8494),z={name:"ViewDadosBasicos",components:{titleToolbarListTeal:B.Z,RacasTouro:V},data:()=>({form:{nomeSimulacao:"",nomePropiedade:"",estado:"",cidade:""},title:"Dados Básicos das Simulações",icon:"mdi-database-edit",subtitle:"Raças de Touros...."}),computed:{},methods:{validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},createUser(t){console.log(t)},SetEstado(t){this.form.estado=t},SetCidade(t){this.form.cidade=t}}},A=z,I=s(2118),L=(0,m.Z)(A,a,r,!1,null,null,null),j=L.exports;v()(L,{VCard:f.Z,VCol:_.Z,VContainer:I.Z,VRow:w.Z})}}]);
//# sourceMappingURL=773.8068be53.js.map